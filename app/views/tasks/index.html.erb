<tasks :params="<%= params.to_json %>" inline-template>
  <div>

    <p id="notice"><%= notice %></p>

    <h1>Listing Tasks</h1>
    <p>Rails parameters: {{ params }}</p>
    <table class="table">
      <thead>
        <tr>
          <th>{{message}}</th>
          <th>Description</th>
          <th>Finished</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @tasks.each do |task| %>
        <tr>
          <td><%= task.name %></td>
          <td><%= task.description %></td>
          <td><%= check_box_tag('finished', true, task.finished, "v-on:change": "taskChangeStatus(#{task.id}, $event)") %> <%= task.finished %></td>
          <td><%= link_to 'Show', task %></td>
          <td><%= link_to 'Edit', edit_task_path(task) %></td>
          <td><%= link_to 'Destroy', task, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
        <% end %>
      </tbody>
    </table>

    <br>

    <%= link_to 'New Task', new_task_path %>
  </div>
</tasks>
